## WWW world-wide web: [RFC1630](https://www.rfc-editor.org/rfc/rfc1630)
## URI uniform resource identifier: [RFC3986](https://www.rfc-editor.org/rfc/rfc3986)
1.1.2.  Examples

   The following example URIs illustrate several URI schemes and
   variations in their common syntax components:

    ftp://ftp.is.co.za/rfc/rfc1808.txt

    http://www.ietf.org/rfc/rfc2396.txt

    ldap://[2001:db8::7]/c=GB?objectClass?one
    LDAP（Lightweight Directory Access Protocol，轻量级目录访问协议）是一种用于访问和维护分布式目录信息服务的开放网络协议标准。

    mailto:John.Doe@example.com

    news:comp.infosystems.www.servers.unix

    tel:+1-816-555-1212

    telnet://192.0.2.16:80/

    urn:oasis:names:specification:docbook:dtd:xml:4.1.2

### LDAP
LDAP（**Lightweight Directory Access Protocol**，轻量级目录访问协议）是一种用于访问和维护**分布式目录信息服务**的开放网络协议标准。

简单来说，你可以把它想象成一个专门为**快速查询和读取**优化的特殊类型的数据库（称为**目录**），但它存储数据的方式和用途与传统的数据库（如MySQL、Oracle）有很大不同。

**LDAP的核心概念：**

1.  **目录（Directory）：**
    *   类似于电话簿或企业组织架构图。
    *   存储**条目（Entries）**，每个条目代表一个对象（如一个人、一台打印机、一个部门、一个应用程序配置）。
    *   条目由**属性（Attributes）** 组成（如`cn=common name`， `sn=surname`， `mail=email address`， `telephoneNumber`）。
    *   数据以**树状层次结构**组织（称为**DIT - Directory Information Tree**），通常基于地理位置、组织部门或其他逻辑结构（如`dc=example, dc=com` -> `ou=People` -> `uid=johndoe`）。
2.  **轻量级（Lightweight）：**
    *   相对于更复杂、更重的早期目录访问协议（如X.500 DAP），LDAP设计得更简单高效，运行在TCP/IP之上，更容易在互联网环境中实现。
3.  **访问协议（Access Protocol）：**
    *   定义了客户端（如应用程序、用户）如何查询（搜索）、添加、修改和删除目录中的信息。
    *   使用标准的端口（默认389，加密的LDAPS是636）。
    *   操作基于简单的请求/响应模型。

**LDAP的主要用途：**

LDAP最常见的应用场景是作为**集中式的身份认证和用户信息存储库**，特别是在企业环境中：

1.  **用户认证（Authentication）：**
    *   **单点登录（SSO）：** 用户登录一次，即可访问多个应用或系统（如内部网站、邮件、文件服务器、VPN），这些系统都通过LDAP验证用户身份（用户名/密码）。
    *   **操作系统登录：** 用户登录公司电脑时，系统通过LDAP验证用户名和密码，而不是使用本地账户。
    *   **应用程序登录：** 许多网络应用（Wiki、Bug追踪系统、CRM、内部工具）支持配置LDAP进行用户登录。
2.  **用户信息存储与管理（Directory Services）：**
    *   **集中存储用户信息：** 存储员工姓名、邮箱、电话、部门、职位、办公地点等核心信息。
    *   **统一信息源：** 作为“唯一真相源”，确保不同系统（邮件系统、HR系统、电话系统）使用的用户信息一致且最新。
    *   **简化管理：** 管理员可以在一个地方（LDAP目录）添加、修改或禁用用户账户，变更会自动反映到所有依赖LDAP的系统。
3.  **地址簿（Address Book）：**
    *   电子邮件客户端（如Outlook, Thunderbird）可以通过LDAP查询公司内部的通讯录。
4.  **授权（Authorization - 部分场景）：**
    *   虽然LDAP本身主要做认证，但存储在目录中的用户组成员信息（如`memberOf`属性）常被其他系统用来决定用户访问资源的权限（例如，某个组可以访问某个共享文件夹）。
5.  **设备与服务管理：**
    *   存储和管理网络设备（打印机、服务器）的信息和配置。
    *   存储应用程序的配置信息。
6.  **其他目录服务：**
    *   证书目录（存储公钥证书）。
    *   网络资源目录。

**LDAP的典型应用实例：**

*   **微软的Active Directory (AD)：** 这是最广泛使用的LDAP实现之一。当你在公司电脑上输入用户名密码登录Windows域时，就是AD（基于LDAP协议）在背后验证你的身份。它也是企业IT基础设施的核心身份管理系统。
*   **OpenLDAP：** 一个非常流行的开源LDAP服务器实现。
*   **389 Directory Server：** Red Hat开发的开源LDAP服务器。
*   **Apache Directory Server：** 另一个开源实现。
*   **Apple Open Directory：** macOS Server中的目录服务。
*   **Novell eDirectory：** 另一个商业目录服务。

**总结：**

LDAP是一个高效访问**目录信息**的协议标准。它最核心的价值在于提供一个**集中、层次化、查询优化**的存储系统，主要用于**管理用户身份信息和进行认证（登录）**。通过LDAP，企业可以实现：

*   **统一的账户管理：** 一个账户访问多个系统。
*   **简化的IT管理：** 在一个地方管理用户信息。
*   **增强的安全性：** 集中控制账户状态（启用/禁用）。
*   **用户便利性：** 单点登录。
*   **信息一致性：** 确保不同系统使用的用户数据相同。

因此，当你听到LDAP时，可以首先联想到它是企业或组织内部用于管理“**谁是谁**”以及“**谁能登录什么系统**”的关键基础设施之一。
### URN
你提到的 **URN**（Uniform Resource Name，统一资源名称）是另一个重要的互联网资源标识概念。它与 **URI**（统一资源标识符）和 **URL**（统一资源定位符）密切相关，但设计目的和使用方式有所不同。下面我将详细解释 URN 的概念、用途及其与 LDAP 的关系：

---

### 1. **URN 是什么？**
- **URN** 是 **永久性资源标识符**，旨在为资源提供一个**持久且位置无关的唯一名称**。
- 核心目标：即使资源的位置（如服务器地址、存储路径）发生变化，URN 仍能保持稳定，确保资源的长期可识别性。
- **格式示例**：  
  `urn:isbn:0451450523`（标识一本书）  
  `urn:uuid:6e8bc430-9c3a-11d9-9669-0800200c9a66`（通用唯一标识符）

---

### 2. **URN 的核心特点**
| **特性**         | **说明**                                                                 |
|------------------|-------------------------------------------------------------------------|
| **持久性**       | 不依赖物理位置，即使资源迁移也能通过名称访问。                          |
| **全局唯一性**   | 通过命名空间（如 `isbn`、`uuid`）确保名称在特定范围内唯一。             |
| **不可解析性**   | URN 本身不提供资源位置，需通过**解析系统**（如 DNS）转换为实际地址。    |

---

### 3. **URN 的常见命名空间**
| **命名空间**   | **用途**                     | **示例**                     |
|----------------|-----------------------------|-----------------------------|
| `isbn`        | 国际标准书号                 | `urn:isbn:978-3-16-148410-0` |
| `issn`        | 国际标准期刊号               | `urn:issn:1234-5678`        |
| `uuid`        | 通用唯一标识符               | `urn:uuid:f81d4fae-7dec-11d0...` |
| `oid`         | 对象标识符（常用于 LDAP）    | `urn:oid:1.3.6.1.4.1.1466`  |

---

### 4. **URN 与 URL、URI 的关系**
- **URI**（统一资源标识符）：  
  广义的资源标识符，包含 **URL**（定位资源）和 **URN**（命名资源）。
- **URL**（统一资源定位符）：  
  描述资源**位置**（如 `https://example.com/file.pdf`），位置变化则失效。
- **URN**（统一资源名称）：  
  描述资源**永久名称**（如 `urn:isbn:123456789`），位置无关。

> ✅ **简单总结**：  
> - **URI = URL + URN**  
> - **URL 是地址，URN 是身份证号**。

---

### 5. **URN 的实际用途**
- **文献标识**：  
  图书（ISBN）、期刊（ISSN）、标准文档等永久性标识。
- **分布式系统**：  
  为网络资源（如配置文件、服务）提供唯一名称，不受部署位置影响。
- **LDAP 目录对象**：  
  在 LDAP 中，对象的唯一标识符（如 `entryUUID`）可视为 URN 的一种实现形式。
- **数据关联**：  
  在元数据系统中，用 URN 跨平台关联同一资源的不同版本（如论文的多个存储库副本）。

---

### 6. **URN 在 LDAP 中的关联**
在 LDAP 目录中，**对象的唯一标识** 与 URN 的设计理念高度契合：
- **DN（Distinguished Name）**：  
  类似 URN，提供条目在目录树中的**唯一路径**（如 `uid=alice,ou=users,dc=example,dc=com`）。  
  → **DN 是位置相关的**（目录结构变化时可能改变）。
- **EntryUUID**：  
  LDAP 服务器为每个条目分配的**全局唯一标识符**（如 `urn:uuid:550e8400-e29b-41d4...`）。  
  → **EntryUUID 是真正的 URN**，即使条目被移动或目录结构重组，该标识符保持不变。

> ✅ **LDAP 使用场景**：  
> 通过 `EntryUUID` 实现跨系统同步时（如 HR 系统与邮件系统），可确保用户对象的唯一性不受目录结构调整影响。

---

### 7. **URN 的局限性**
- **依赖解析服务**：  
  URN 需要配套的解析系统（如 **URN Resolver**）转换为实际 URL，否则无法直接访问资源。
- **推广程度有限**：  
  目前主流互联网仍以 URL 为主，URN 多用于特定领域（出版、学术、企业系统）。

---

### 总结
| **概念** | **核心作用**                  | **与 LDAP 的关联**                |
|----------|-----------------------------|----------------------------------|
| **URN**  | 为资源提供永久唯一名称（位置无关） | LDAP 中的 `EntryUUID` 是 URN 的实现 |
| **LDAP** | 管理目录信息（如用户/设备）     | 使用 DN 定位条目，用 UUID 持久标识 |

URN 是资源命名的基石，而 LDAP 则是这一理念在**目录服务领域**的落地应用。两者结合，确保了分布式系统中资源标识的**持久性**与**唯一性**。